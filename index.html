<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” AI ë‰´ìŠ¤ í‚¤ì›Œë“œ ë¶„ì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Apple SD Gothic Neo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            font-weight: 300;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ì£¼ê°„ ìš”ì•½ ì„¹ì…˜ */
        .weekly-summary {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #2d3a4b;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            display: inline-block;
        }

        .week-info {
            font-size: 0.95em;
            color: #666;
            margin-bottom: 20px;
        }

        .keywords-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .keyword-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .keyword-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* ì‚°ì—…ë³„ ë¶„ì„ ì„¹ì…˜ */
        .industry-analysis {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .industry-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .industry-tab {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .industry-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .industry-tab:hover:not(.active) {
            background: #e9ecef;
        }

        .analysis-content {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            min-height: 200px;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            color: #666;
            font-style: italic;
        }

        /* í‚¤ì›Œë“œ ê´€ë ¨ ê¸°ì‚¬ ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 16px;
            padding: 30px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 15px;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #666;
        }

        .article-item {
            border-bottom: 1px solid #f0f0f0;
            padding: 15px 0;
        }

        .article-title {
            font-weight: 600;
            color: #2d3a4b;
            margin-bottom: 8px;
        }

        .article-summary {
            color: #666;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .keywords-container,
            .industry-tabs {
                flex-direction: column;
            }
            
            .keyword-tag,
            .industry-tab {
                text-align: center;
            }
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>ğŸ” AI ë‰´ìŠ¤ í‚¤ì›Œë“œ ë¶„ì„</h1>
        <p class="subtitle">ì£¼ê°„ íŠ¸ë Œë“œì™€ ì‚°ì—…ë³„ ë¶„ì„ì„ í•œëˆˆì—</p>
    </div>

    <div class="main-container">
        <!-- ì£¼ê°„ ìš”ì•½ ì„¹ì…˜ -->
        <div class="weekly-summary">
            <h2 class="section-title">ì£¼ê°„ ìš”ì•½</h2>
            <div class="week-info" id="week-info">7ì›” 3ì£¼ì°¨ í‚¤ì›Œë“œ ë¶„ì„</div>
            <div class="keywords-container" id="keywords-container">
                <!-- í‚¤ì›Œë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- ì‚°ì—…ë³„ ë¶„ì„ ì„¹ì…˜ -->
        <div class="industry-analysis">
            <h2 class="section-title">ì‚°ì—…ë³„ ë™í–¥ ë¶„ì„</h2>
            <div class="industry-tabs">
                <div class="industry-tab active" data-industry="ì‚¬íšŒ">ì‚¬íšŒ</div>
                <div class="industry-tab" data-industry="ê²½ì œ">ê²½ì œ</div>
                <div class="industry-tab" data-industry="IT/ê³¼í•™">IT/ê³¼í•™</div>
                <div class="industry-tab" data-industry="ìƒí™œ/ë¬¸í™”">ìƒí™œ/ë¬¸í™”</div>
                <div class="industry-tab" data-industry="ì„¸ê³„">ì„¸ê³„</div>
            </div>
            <div class="analysis-content" id="analysis-content">
                <div class="loading">ë¶„ì„í•  í‚¤ì›Œë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</div>
            </div>
        </div>
    </div>

    <!-- í‚¤ì›Œë“œ ê´€ë ¨ ê¸°ì‚¬ ëª¨ë‹¬ -->
    <div class="modal" id="article-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">ê´€ë ¨ ê¸°ì‚¬</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modal-articles">
                <!-- ê´€ë ¨ ê¸°ì‚¬ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>
    <script>
        let currentKeywords = [];
        let selectedKeyword = null;

        // í˜ì´ì§€ ë¡œë“œì‹œ í‚¤ì›Œë“œ ë¶ˆëŸ¬ì˜¤ê¸°
        document.addEventListener('DOMContentLoaded', function() {
            loadWeeklyKeywords();
            setupIndustryTabs();
        });

        // ì£¼ê°„ í‚¤ì›Œë“œ ë¶ˆëŸ¬ì˜¤ê¸°
        async function loadWeeklyKeywords() {
            try {
                const response = await fetch('http://127.0.0.1:8000/weekly-keywords');
                const data = await response.json();
                
                displayKeywords(data.keywords);
                updateWeekInfo(data.week_info);
            } catch (error) {
                console.error('í‚¤ì›Œë“œ ë¡œë”© ì˜¤ë¥˜:', error);
                // ìƒ˜í”Œ ë°ì´í„°ë¡œ ëŒ€ì²´
                displayKeywords(['ì¸ê³µì§€ëŠ¥', 'ë°˜ë„ì²´', 'ê¸°ì—…']);
            }
        }

        // í‚¤ì›Œë“œ í‘œì‹œ
        function displayKeywords(keywords) {
            currentKeywords = keywords;
            const container = document.getElementById('keywords-container');
            container.innerHTML = '';

            keywords.forEach(keyword => {
                const tag = document.createElement('div');
                tag.className = 'keyword-tag';
                tag.textContent = keyword;
                tag.onclick = () => selectKeyword(keyword);
                container.appendChild(tag);
            });
        }

        // ì£¼ê°„ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateWeekInfo(weekInfo) {
            document.getElementById('week-info').textContent = weekInfo || '7ì›” 3ì£¼ì°¨ í‚¤ì›Œë“œ ë¶„ì„';
        }

        // í‚¤ì›Œë“œ ì„ íƒ
        function selectKeyword(keyword) {
            selectedKeyword = keyword;
            
            // í‚¤ì›Œë“œ íƒœê·¸ í™œì„±í™” í‘œì‹œ
            document.querySelectorAll('.keyword-tag').forEach(tag => {
                tag.style.background = tag.textContent === keyword 
                    ? 'linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)'
                    : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            });

            // í˜„ì¬ í™œì„±í™”ëœ ì‚°ì—… íƒ­ì— ëŒ€í•œ ë¶„ì„ ì‹¤í–‰
            const activeTab = document.querySelector('.industry-tab.active');
            if (activeTab) {
                loadIndustryAnalysis(activeTab.dataset.industry, keyword);
            }
        }

        // ì‚°ì—…ë³„ íƒ­ ì„¤ì •
        function setupIndustryTabs() {
            document.querySelectorAll('.industry-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // íƒ­ í™œì„±í™”
                    document.querySelectorAll('.industry-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');

                    // ì„ íƒëœ í‚¤ì›Œë“œê°€ ìˆìœ¼ë©´ ë¶„ì„ ì‹¤í–‰
                    if (selectedKeyword) {
                        loadIndustryAnalysis(this.dataset.industry, selectedKeyword);
                    }
                });
            });
        }

        // ì‚°ì—…ë³„ ë¶„ì„ ë¡œë”©
        async function loadIndustryAnalysis(industry, keyword) {
            const content = document.getElementById('analysis-content');
            content.innerHTML = '<div class="loading">ë¶„ì„ ì¤‘...</div>';

            try {
                const response = await fetch('http://127.0.0.1:8000/industry-analysis', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        industry: industry,
                        keyword: keyword
                    })
                });

                const data = await response.json();
                content.innerHTML = `
                    <h3 style="color: #2d3a4b; margin-bottom: 15px;">
                        "${keyword}" - ${industry} ê´€ì  ë¶„ì„
                    </h3>
                    <div style="line-height: 1.7;">${data.analysis}</div>
                `;
            } catch (error) {
                content.innerHTML = `
                    <div style="color: #666;">
                        ë¶„ì„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.<br>
                        ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.
                    </div>
                `;
            }
        }

        // í‚¤ì›Œë“œ ê´€ë ¨ ê¸°ì‚¬ ëª¨ë‹¬ ì—´ê¸° (ë”ë¸”í´ë¦­ì‹œ)
        document.addEventListener('dblclick', function(e) {
            if (e.target.classList.contains('keyword-tag')) {
                openArticleModal(e.target.textContent);
            }
        });

        async function openArticleModal(keyword) {
            const modal = document.getElementById('article-modal');
            const title = document.getElementById('modal-title');
            const articles = document.getElementById('modal-articles');

            title.textContent = `"${keyword}" ê´€ë ¨ ê¸°ì‚¬`;
            articles.innerHTML = '<div class="loading">ê´€ë ¨ ê¸°ì‚¬ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>';
            modal.style.display = 'block';

            try {
                const response = await fetch(`http://127.0.0.1:8000/keyword-articles?keyword=${encodeURIComponent(keyword)}`);
                const data = await response.json();

                articles.innerHTML = '';
                data.articles.forEach(article => {
                    const item = document.createElement('div');
                    item.className = 'article-item';
                    item.innerHTML = `
                        <div class="article-title">${article.title}</div>
                        <div class="article-summary">${article.summary}</div>
                    `;
                    articles.appendChild(item);
                });
            } catch (error) {
                articles.innerHTML = '<div style="color: #666;">ê´€ë ¨ ê¸°ì‚¬ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
            }
        }

        function closeModal() {
            document.getElementById('article-modal').style.display = 'none';
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('article-modal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>

</html>
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #cfd8dc;
        }

        .chat-send {
            padding: 10px 18px;
            border: none;
            background: #2d7ef7;
            color: #fff;
            border-radius: 6px;
            cursor: pointer;
            margin-left: 8px;
        }

        .chat-send:disabled {
            background: #b0c4de;
        }

        .loading {
            color: #666;
            font-style: italic;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ” AI ë‰´ìŠ¤ í‚¤ì›Œë“œ ë¶„ì„</h1>
        
        <!-- ì£¼ê°„ í‚¤ì›Œë“œ ì„¹ì…˜ -->
        <div class="weekly-section">
            <div class="weekly-title" id="weekly-title">ğŸ“Š 2025ë…„ 7ì›” 3ì£¼ì°¨ - Top 3 í‚¤ì›Œë“œ</div>
            <div class="keywords-container" id="keywords-container">
                <div class="keyword-tag" onclick="loadKeywordArticles('ì¸ê³µì§€ëŠ¥')">[ì¸ê³µì§€ëŠ¥]</div>
                <div class="keyword-tag" onclick="loadKeywordArticles('ë°˜ë„ì²´')">[ë°˜ë„ì²´]</div>
                <div class="keyword-tag" onclick="loadKeywordArticles('ê¸°ìˆ ')">[ê¸°ìˆ ]</div>
            </div>
        </div>

        <!-- ì„¹ì…˜ ë¶„ì„ -->
        <div class="sections-container">
            <div class="sections-title">ï¿½ ì£¼ìš” í‚¤ì›Œë“œì— ëŒ€í•œ ì‚°ì—…ë³„ ì‹œê° ë¶„ì„</div>
            <div class="sections-grid">
                <div class="section-btn" onclick="loadSectionAnalysis('ì‚¬íšŒ')">ğŸ›ï¸ ì‚¬íšŒì  ê´€ì </div>
                <div class="section-btn" onclick="loadSectionAnalysis('ìƒí™œë¬¸í™”')">ğŸ­ ìƒí™œ/ë¬¸í™”ì  ê´€ì </div>
                <div class="section-btn" onclick="loadSectionAnalysis('ITê³¼í•™')">ğŸ’» ê¸°ìˆ ì  ê´€ì </div>
                <div class="section-btn" onclick="loadSectionAnalysis('ì„¸ê³„')">ğŸŒ ê¸€ë¡œë²Œ ê´€ì </div>
                <div class="section-btn" onclick="loadSectionAnalysis('ê²½ì œ')">ğŸ’° ê²½ì œì  ê´€ì </div>
            </div>
        </div>

        <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
        <div class="results-container" id="results-container">
            <div class="result-title">ë¶„ì„ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
            <div class="result-content">í‚¤ì›Œë“œë¥¼ í´ë¦­í•˜ì—¬ ê´€ë ¨ ê¸°ì‚¬ë¥¼ ë³´ê±°ë‚˜, ì‚°ì—… ê´€ì ì„ ì„ íƒí•˜ì—¬ ì£¼ìš” í‚¤ì›Œë“œì— ëŒ€í•œ ì „ë¬¸ì  ë¶„ì„ì„ í™•ì¸í•˜ì„¸ìš”.</div>
        </div>

        <!-- ì±—ë´‡ ì„¹ì…˜ -->
        <div class="chatbox">
            <h3>ğŸ¤– AI ë¶„ì„ ì±—ë´‡</h3>
            <div class="chat-history" id="chat-history"></div>
            <input class="chat-input" id="chat-input" type="text" placeholder="í‚¤ì›Œë“œë‚˜ ì‚°ì—…ì— ëŒ€í•´ ì§ˆë¬¸í•˜ì„¸ìš”...">
            <button class="chat-send" id="chat-send">ì „ì†¡</button>
        </div>
    </div>

    <script>
        // ì£¼ê°„ í‚¤ì›Œë“œ ë¡œë“œ
        async function loadWeeklySummary() {
            try {
                const res = await fetch('http://127.0.0.1:8000/weekly-summary');
                const data = await res.json();
                
                if (data.content) {
                    // ì œëª© ì—…ë°ì´íŠ¸
                    document.getElementById('weekly-title').textContent = data.title || 'ì£¼ê°„ í‚¤ì›Œë“œ ë¶„ì„';
                    
                    // contentì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œí•˜ì—¬ í‘œì‹œ
                    const keywordMatch = data.content.match(/\[(.*?)\]/g);
                    if (keywordMatch && keywordMatch.length >= 3) {
                        const keywordsContainer = document.getElementById('keywords-container');
                        keywordsContainer.innerHTML = '';
                        
                        // Top 3 í‚¤ì›Œë“œ í‘œì‹œ
                        keywordMatch.slice(0, 3).forEach(keywordWithBrackets => {
                            const keyword = keywordWithBrackets.replace(/[\[\]]/g, '');
                            const keywordDiv = document.createElement('div');
                            keywordDiv.className = 'keyword-tag';
                            keywordDiv.textContent = keywordWithBrackets;
                            keywordDiv.onclick = () => loadKeywordArticles(keyword);
                            keywordsContainer.appendChild(keywordDiv);
                        });
                        
                        console.log('ì£¼ê°„ í‚¤ì›Œë“œ ë¡œë“œ ì™„ë£Œ:', keywordMatch.slice(0, 3));
                    }
                } else {
                    console.log('ì£¼ê°„ ìš”ì•½ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ì£¼ê°„ ìš”ì•½ ë¡œë“œ ì˜¤ë¥˜:', error);
                // ê¸°ë³¸ê°’ ìœ ì§€
            }
        }

        // í‚¤ì›Œë“œ ê´€ë ¨ ê¸°ì‚¬ ë¡œë“œ
        async function loadKeywordArticles(keyword) {
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = '<div class="loading">ğŸ” í‚¤ì›Œë“œ ê´€ë ¨ ê¸°ì‚¬ë¥¼ ê²€ìƒ‰ ì¤‘...</div>';
            
            try {
                const res = await fetch(`http://127.0.0.1:8000/keyword-articles/${encodeURIComponent(keyword)}`);
                const data = await res.json();
                
                let html = `<div class="result-title">ğŸ” "${keyword}" ê´€ë ¨ ê¸°ì‚¬ Top 5</div>`;
                
                if (data.articles && data.articles.length > 0) {
                    html += '<div class="articles-grid">';
                    data.articles.forEach(article => {
                        html += `
                            <div class="article-card">
                                <div class="article-title">${article.title}</div>
                                <div class="article-content">${article.content}</div>
                            </div>
                        `;
                    });
                    html += '</div>';
                } else {
                    html += '<div class="result-content">í•´ë‹¹ í‚¤ì›Œë“œì™€ ê´€ë ¨ëœ ê¸°ì‚¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
                }
                
                resultsContainer.innerHTML = html;
                
            } catch (error) {
                resultsContainer.innerHTML = '<div class="result-content">ê¸°ì‚¬ ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</div>';
            }
        }

        // ì„¹ì…˜ë³„ ë¶„ì„ ë¡œë“œ
        async function loadSectionAnalysis(section) {
            // ë²„íŠ¼ í™œì„±í™” í‘œì‹œ
            document.querySelectorAll('.section-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = '<div class="loading">ï¿½ ì£¼ìš” í‚¤ì›Œë“œì— ëŒ€í•œ ì‚°ì—…ë³„ ì‹œê°ì„ ë¶„ì„ ì¤‘...</div>';
            
            try {
                const res = await fetch(`http://127.0.0.1:8000/section-analysis/${encodeURIComponent(section)}`);
                const data = await res.json();
                
                const keywordsText = data.keywords ? data.keywords.join(', ') : 'AI, ì¸ê³µì§€ëŠ¥, ë°˜ë„ì²´';
                const html = `
                    <div class="result-title">ï¿½ "${keywordsText}"ì— ëŒ€í•œ ${section} ê´€ì  ë¶„ì„</div>
                    <div class="result-content">${data.analysis}</div>
                `;
                
                resultsContainer.innerHTML = html;
                
            } catch (error) {
                resultsContainer.innerHTML = '<div class="result-content">ë¶„ì„ ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</div>';
            }
        }

        // ì±—ë´‡ ê¸°ëŠ¥
        async function sendChat() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if (!msg) return;
            
            appendChat('user', msg);
            input.value = '';
            document.getElementById('chat-send').disabled = true;
            
            try {
                const res = await fetch('http://127.0.0.1:8000/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ question: msg })
                });
                const data = await res.json();
                appendChat('bot', data.answer || 'ì‘ë‹µì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            } catch (error) {
                appendChat('bot', 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
            
            document.getElementById('chat-send').disabled = false;
        }

        function appendChat(who, msg) {
            const history = document.getElementById('chat-history');
            const div = document.createElement('div');
            div.className = 'chat-msg';
            div.innerHTML = `<span class='chat-${who}'>${who === 'user' ? 'ë‚˜' : 'ğŸ¤– AI'}:</span> ${msg}`;
            history.appendChild(div);
            history.scrollTop = history.scrollHeight;
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('chat-send').onclick = sendChat;
        document.getElementById('chat-input').addEventListener('keydown', e => {
            if (e.key === 'Enter') sendChat();
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì£¼ê°„ ìš”ì•½ ë¡œë“œ
        loadWeeklySummary();
    </script>
</body>

</html>
